(function (window, document) {
    'use strict';

    angular.module('app').run(['$templateCache', function ($templateCache) {

        var markup = [
            '<style>',
                '.SendTime input,',
                '.SendTime label {',
                    'vertical-align: text-middle;',
                    'margin-top: 0;',
                    'font-weight: normal;',
                '}',
            '</style>',
            '<div class="SendTime">',
                '<div class="modal-header">',
                    '<h3 class="modal-title">發送時間設定</h3>',
                '</div>',
                '<div class="modal-body">',
                    '<div class="container">',
                        '<!-- 立即發送-->',
                        '<div class="row">',
                            '<div class="col-md-12">',
                                '<label>',
                                '<input type="radio" ng-model="SendTimeManager.SendTimeType" value="{{SendTimeManager.SendTimeTypeOptions.Immediately}}" />',
                                '立即發送</label>',
                            '</div>',
                        '</div> <!-- 立即發送-->',
                        '<!-- 預約發送-->',
                        '<div class="row">',
                            '<div class="col-md-12">',
                                '<label>',
                                '<input type="radio" ng-model="SendTimeManager.SendTimeType" value="{{SendTimeManager.SendTimeTypeOptions.Deliver}}" />',
                                '預約發送</label>',
                                '<span>',
                                    '<input type="text"',
                                           'ng-model="SendTimeManager.SendDeliver.Date"',
                                           'datepicker-popup="yyyy/MM/dd"',
                                           'show-button-bar="false"',
                                           'min-date="SendTimeManager.MinDate"',
                                           'is-open="SendTimeManager.SendDeliver.Date_DatepickerOpend"',
                                           'ng-click="SendTimeManager.SendDeliver.Date_DatepickerOpend=true" />',
                                    '<img class="table_48" ng-click="SendTimeManager.SendDeliver.Date_DatepickerOpend=true" />',
                                '</span>',
                                '<span>',
                                    '<select ng-model="SendTimeManager.SendDeliver.Hour"',
                                            'ng-options="item for item in SendTimeManager.Hours"></select>',
                                    '時',
                                    '<select ng-model="SendTimeManager.SendDeliver.Minute"',
                                            'ng-options="item for item in SendTimeManager.Minutes"></select>',
                                    '分',
                                '</span>',
                            '</div>',
                        '</div> <!-- 預約發送-->',
                        '<!-- 週期發送-->',
                        '<div class="row">',
                            '<div class="col-md-12">',
                                '<label>',
                                '<input type="radio" ng-model="SendTimeManager.SendTimeType" value="{{SendTimeManager.SendTimeTypeOptions.Cycle}}" />',
                                '週期發送</label>',
                            '</div>',
                            '<div class="col-md-12" style="padding-left: 30px" collapse="SendTimeManager.SendTimeType != SendTimeManager.SendTimeTypeOptions.Cycle">',
                                '<div><label>發送週期設定：</label></div>',
                                '<div>',
                                    '<label><input type="radio" ng-model="SendTimeManager.SendCycleType" value="{{SendTimeManager.SendCycleTypeOptions.EveryDay}}" />每天</label>',
                                    '<label><input type="radio" ng-model="SendTimeManager.SendCycleType" value="{{SendTimeManager.SendCycleTypeOptions.EveryWeek}}" />每周</label>',
                                    '<label><input type="radio" ng-model="SendTimeManager.SendCycleType" value="{{SendTimeManager.SendCycleTypeOptions.EveryMonth}}" />每月</label>',
                                    '<label><input type="radio" ng-model="SendTimeManager.SendCycleType" value="{{SendTimeManager.SendCycleTypeOptions.EveryYear}}" />每年</label>',
                                '</div>',
                                '<!-- 每天發送時間設定 -->',
                                '<div collapse="SendTimeManager.SendCycleType != SendTimeManager.SendCycleTypeOptions.EveryDay">',
                                    '<div>',
                                        '<label>發送時間設定：</label>',
                                    '</div>',
                                    '<div>',
                                        '起始時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'ng-model="SendTimeManager.SendCycleEveryDay.StartDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryDay.StartDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryDay.StartDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryDay.StartDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '結束時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'ng-model="SendTimeManager.SendCycleEveryDay.EndDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryDay.EndDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryDay.EndDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryDay.EndDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '發送時間：',
                                        '<span>',
                                            '<select ng-model="SendTimeManager.SendCycleEveryDay.Hour"',
                                                    'ng-options="item for item in SendTimeManager.Hours"></select>',
                                            '時',
                                            '<select ng-model="SendTimeManager.SendCycleEveryDay.Minute"',
                                                    'ng-options="item for item in SendTimeManager.Minutes"></select>',
                                            '分',
                                        '</span>',
                                    '</div>',
                                '</div> <!-- 每天發送時間設定 -->',
                                '<!-- 每周發送時間設定 -->',
                                '<div collapse="SendTimeManager.SendCycleType != SendTimeManager.SendCycleTypeOptions.EveryWeek">',
                                    '<div>',
                                        '<span>',
                                            '<label ng-repeat="Week in SendTimeManager.Weeks">',
                                                '<label>',
                                                '<input type="checkbox"',
                                                       'value="{{Week.id}}"',
                                                       'ng-checked="SendTimeManager.SendCycleEveryWeek.WeekSelection.indexOf(Week) > -1"',
                                                       'ng-click="SendTimeManager.SendCycleEveryWeek.ToggleWeekSelection(Week)">',
                                                '{{Week.text}}</label>',
                                            '</label>',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '<label>發送時間設定：</label>',
                                    '</div>',
                                    '<div>',
                                        '起始時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'ng-model="SendTimeManager.SendCycleEveryWeek.StartDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryWeek.StartDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryWeek.StartDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryWeek.StartDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '結束時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'style="width:80px;"',
                                                   'ng-model="SendTimeManager.SendCycleEveryWeek.EndDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryWeek.EndDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryWeek.EndDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryWeek.EndDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '發送時間：',
                                        '<span>',
                                            '<select ng-model="SendTimeManager.SendCycleEveryWeek.Hour"',
                                                    'ng-options="item for item in SendTimeManager.Hours"></select>',
                                            '時',
                                            '<select ng-model="SendTimeManager.SendCycleEveryWeek.Minute"',
                                                    'ng-options="item for item in SendTimeManager.Minutes"></select>',
                                            '分',
                                        '</span>',
                                    '</div>',
                                '</div> <!-- 每周發送時間設定 -->',
                                '<!-- 每月發送時間設定 -->',
                                '<div collapse="SendTimeManager.SendCycleType != SendTimeManager.SendCycleTypeOptions.EveryMonth">',
                                    '<div>',
                                        '<span>',
                                            '每月的',
                                            '<select ng-model="SendTimeManager.SendCycleEveryMonth.Day"',
                                                    'ng-options="item for item in SendTimeManager.Days"></select>',
                                            '號',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '<label>發送時間設定：</label>',
                                    '</div>',
                                    '<div>',
                                        '起始時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'ng-model="SendTimeManager.SendCycleEveryMonth.StartDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryMonth.StartDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryMonth.StartDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryMonth.StartDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '結束時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'ng-model="SendTimeManager.SendCycleEveryMonth.EndDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryMonth.EndDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryMonth.EndDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryMonth.EndDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '發送時間：',
                                        '<span>',
                                            '<select ng-model="SendTimeManager.SendCycleEveryMonth.Hour"',
                                                    'ng-options="item for item in SendTimeManager.Hours"></select>',
                                            '時',
                                            '<select ng-model="SendTimeManager.SendCycleEveryMonth.Minute"',
                                                    'ng-options="item for item in SendTimeManager.Minutes"></select>',
                                            '分',
                                        '</span>',
                                    '</div>',
                                '</div> <!-- 每月發送時間設定 -->',
                                '<!-- 每年發送時間設定 -->',
                                '<div collapse="SendTimeManager.SendCycleType != SendTimeManager.SendCycleTypeOptions.EveryYear">',
                                    '<div>',
                                        '<span>',
                                            '每年的',
                                            '<select ng-model="SendTimeManager.SendCycleEveryYear.Month"',
                                                    'ng-options="item for item in SendTimeManager.Months"></select>',
                                            '月',
                                            '<select ng-model="SendTimeManager.SendCycleEveryYear.Day"',
                                                    'ng-options="item for item in SendTimeManager.Days"></select>',
                                            '號',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '<label>發送時間設定：</label>',
                                    '</div>',
                                    '<div>',
                                        '起始時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'style="width:80px;"',
                                                   'ng-model="SendTimeManager.SendCycleEveryYear.StartDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryYear.StartDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryYear.StartDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryYear.StartDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '結束時間：',
                                        '<span>',
                                            '<input type="text"',
                                                   'style="width:80px;"',
                                                   'ng-model="SendTimeManager.SendCycleEveryYear.EndDate"',
                                                   'datepicker-popup="yyyy/MM/dd"',
                                                   'show-button-bar="false"',
                                                   'min-date="SendTimeManager.MinDate"',
                                                   'is-open="SendTimeManager.SendCycleEveryYear.EndDateOpend"',
                                                   'ng-click="SendTimeManager.SendCycleEveryYear.EndDateOpend=true" />',
                                            '<img class="table_48" ng-click="SendTimeManager.SendCycleEveryYear.EndDateOpend=true" />',
                                        '</span>',
                                    '</div>',
                                    '<div>',
                                        '發送時間：',
                                        '<span>',
                                            '<select ng-model="SendTimeManager.SendCycleEveryYear.Hour"',
                                                    'ng-options="item for item in SendTimeManager.Hours"></select>',
                                            '時',
                                            '<select ng-model="SendTimeManager.SendCycleEveryYear.Minute"',
                                                    'ng-options="item for item in SendTimeManager.Minutes"></select>',
                                            '分',
                                        '</span>',
                                    '</div>',
                                '</div> <!-- 每年發送時間設定 -->',
                            '</div>',
                        '</div> <!-- 週期發送-->',
                    '</div>',
                '</div>',
                '<div class="modal-footer">',
                    '<div class="btn-group">',
                        '<button class="btn btn-success" ng-click="submit()">確定</button>',
                        '<button class="btn btn-warning" ng-click="cancel()">取消</button>',
                    '</div>',
                '</div>',
            '</div>'
        ].join('\n');

        $templateCache.put("template/modal/sendTime.html", markup);
    }]);

})(window, document);